<html>
	<head>
		<script src="src/value.js"></script>
		<script src="src/parser.js"></script>
		<script src="src/eval.js"></script>
		<script>
		function parseIt() {
			var text = document.getElementById("input-text").value;
			console.log(parseAll(text));
		}
		function runIt() {
			var text = document.getElementById("input-text").value;
			var results = document.getElementById("results");
			var asts = parseAll(text);
			for (var i = 0; i < asts.length; ++i) {
				var result = resultDiv(printAst(asts[i]), asString(rippleEval(asts[i])));
				results.appendChild(result);
			}
		}
		function resultDiv(expr, res) {
			var result = document.createElement("div");
			var input = document.createElement("div");
			var output = document.createElement("div");
			result.appendChild(input);
			result.appendChild(output);
			result.className = "result";
			input.className = "input-expr";
			output.className = "output-value";
			input.innerHTML = expr;
			output.innerHTML = res;
			return result;
		}
		</script>
	</head>
	<body>
		<textarea id="input-text" rows="4" cols="50">(+ 1 2)</textarea>
		<button id="parse-button" onclick="parseIt();">Parse</button>
		<button id="parse-button" onclick="runIt();">Run</button>
		<div id="results"></div>
	</body>
</html>